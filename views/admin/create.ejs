<!DOCTYPE html>
<html lang="en">
	<%- include("../head.ejs") %>

	<body class="min-h-screen bg-gray-100 flex items-center justify-center">
		<div class="w-full max-w-md bg-white rounded-lg shadow-md p-8">
			<h2 class="text-2xl font-semibold text-center text-gray-800 mb-6">
				Create Admin User
			</h2>

			<!-- ✅ Success Flash -->
			<% if (success && success.length > 0) { %>
			<div
				class="mb-4 rounded bg-green-100 border border-green-300 text-green-700 px-4 py-3"
			>
				<%= success[0] %>
			</div>
			<% } %>

			<!-- ❌ Error Flash -->
			<% if (error && error.length > 0) { %>
			<div
				class="mb-4 rounded bg-red-100 border border-red-300 text-red-700 px-4 py-3"
			>
				<%= error[0] %>
			</div>
			<% } %>

			<form
				action="/admin/create"
				method="POST"
				class="space-y-5"
			>
				<div>
					<label class="block text-sm font-medium text-gray-700 mb-1">
						Username
					</label>
					<input
						type="text"
						name="username"
						value="<%= old?.username || '' %>"
						class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"
					/>
				</div>

				<div>
					<label class="block text-sm font-medium text-gray-700 mb-1">
						Email
					</label>
					<input
						type="email"
						name="email"
						required
						value="<%= old?.email || '' %>"
						class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"
					/>
				</div>

				<div>
					<label class="block text-sm font-medium text-gray-700 mb-1">
						Password
					</label>
					<input
						type="password"
						name="password"
						required
						class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500"
					/>
				</div>

				<button
					type="submit"
					class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700"
				>
					Create User
				</button>
			</form>
		</div>
	</body>
</html>
